"use strict";(self["webpackChunknueditor"]=self["webpackChunknueditor"]||[]).push([[108],{46108:function(e,s,i){i.r(s),i.d(s,{default:function(){return ve}});var o=i(29651),t=i(819),n=i(41463);const l={style:{position:"relative"}},a={class:"login-wrapper popup-window"},r={key:0,class:"login login-p0"},d={class:"login-p0__img"},c=["src"],g={class:"login-p0__title text-center"},h={class:"text-blue-1 heading-5"},u={class:"login-p0__fb"},p=["src"],m={class:"body-2"},w={class:"login-p0__google"},N=["src"],k={class:"body-2"},C={class:"login-p0__hr"},_={class:"login-p0__mail"},f={class:"label-mid"},y=["placeholder"],v={key:0,class:"invalid-message"},L={class:"flex flex-between"},$={class:"label-mid"},x=["placeholder","type"],b={key:0,class:"invalid-message"},P={class:"login-p0__button"},Z={class:"login-p0__signup"},V={class:"login-p0__close page-close"},E={key:1,class:"login login-p1"},W={class:"text-center"},z={class:"text-blue-1 heading-5"},I=["innerHTML"],M=["placeholder"],R={key:0,class:"invalid-message"},A={class:"pb-10"},q=["innerHTML"],T={key:0,class:"flex",style:{"justify-content":"center"}},U={class:"page-close"},D={key:2,class:"login login-p2"},B={class:"text-center"},S={class:"text-blue-1 heading-5"},F={class:"body-2"},G=["placeholder"],H={key:0,class:"invalid-message"},j={style:{"margin-bottom":"15px"}},Y={key:0,class:"flex flex-between align-center",style:{height:"30px","margin-bottom":"0"}},O={key:1,class:"flex align-center text-gray-3",style:{height:"30px","margin-bottom":"0"}},J={class:"page-close"},K={key:3,class:"login login-p3"},Q={class:"text-center"},X={class:"text-blue-1 heading-5"},ee={class:"label-mid"},se=["placeholder","type"],ie={class:"invalid-message"},oe={class:"mt-20"},te={class:"label-mid"},ne=["placeholder","type"],le={key:0,class:"invalid-message"},ae={class:"mt-20 flex",style:{"justify-content":"center"}},re={class:"page-close"};function de(e,s,de,ce,ge,he){const ue=(0,o.up)("btn"),pe=(0,o.up)("property-bar"),me=(0,o.up)("svg-icon"),we=(0,o.up)("nubtn"),Ne=(0,o.up)("spinner");return(0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("div",a,[0===e.currentPageIndex?((0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",d,[(0,o._)("img",{src:i(85733),style:{width:"180px",height:"133px"}},null,8,c)]),(0,o._)("div",g,[(0,o._)("span",h,(0,t.zw)(e.$tc("NN0168",2)),1)]),e.inReviewMode?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("div",u,[(0,o.Wm)(ue,{onClick:s[0]||(s[0]=s=>e.onFacebookClicked()),type:"icon-mid-body"}),(0,o._)("img",{src:i(71730)},null,8,p),(0,o._)("span",m,(0,t.zw)(e.$t("NN0178",{media:"Facebook"})),1)]),(0,o._)("div",w,[(0,o.Wm)(ue,{onClick:s[1]||(s[1]=s=>e.onGoogleClicked()),type:"icon-mid-body"}),(0,o._)("img",{src:i(3362)},null,8,N),(0,o._)("span",k,(0,t.zw)(e.$t("NN0178",{media:"Google"})),1)]),(0,o._)("div",C,[(0,o._)("span",null,(0,t.zw)(e.$t("NN0179")),1)])],64)),(0,o._)("div",_,[(0,o._)("div",null,[(0,o._)("span",f,(0,t.zw)(e.$tc("NN0173",1)),1),(0,o.Wm)(pe,{class:(0,t.C_)(["mt-5",{"input-invalid":!e.mailValid}])},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("input",{class:"body-2 text-gray-2","onUpdate:modelValue":s[2]||(s[2]=s=>e.email=s),type:"email",name:"email",placeholder:e.$t("NN0163",{term:e.$tc("NN0173",2)})},null,8,y),[[n.nr,e.email]])])),_:1},8,["class"]),e.mailValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",v,[(0,o._)("span",null,(0,t.zw)(e.mailErrorMessage),1)]))]),(0,o._)("div",null,[(0,o._)("div",L,[(0,o._)("span",$,(0,t.zw)(e.$tc("NN0180",1)),1),(0,o.Wm)(ue,{class:"text-gray-3 body-2 forgot-pwd",type:"icon",onClick:s[3]||(s[3]=s=>e.onForgotClicked())},{default:(0,o.w5)((()=>[(0,o.Uk)((0,t.zw)(e.$t("NN0181")),1)])),_:1})]),(0,o.Wm)(pe,{class:(0,t.C_)(["mt-5",{"input-invalid":!e.passwordValid}])},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("input",{class:"body-2 text-gray-2","onUpdate:modelValue":s[4]||(s[4]=s=>e.password=s),placeholder:e.$t("NN0163",{term:e.$tc("NN0180",2)}),type:e.togglePeerPasswordInput},null,8,x),[[n.YZ,e.password]]),(0,o._)("button",{onClick:s[5]||(s[5]=s=>e.isPeerPassword=!e.isPeerPassword)},[(0,o.Wm)(me,{class:"pointer",iconName:e.togglePeerPasswordIcon,iconWidth:"20px",iconColor:"gray-2"},null,8,["iconName"])])])),_:1},8,["class"]),e.passwordValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",b,[(0,o._)("span",null,(0,t.zw)(e.passwordErrorMessage),1)]))])]),(0,o._)("div",P,[(0,o.Wm)(ue,{class:"bg-gray-2 text-white btn-shadow",type:"primary-mid",onClick:s[6]||(s[6]=s=>e.onLogInClicked())},{default:(0,o.w5)((()=>[(0,o.Uk)((0,t.zw)(e.$tc("NN0168",2)),1)])),_:1})]),(0,o._)("div",Z,[(0,o._)("span",null,(0,t.zw)(e.$t("NN0182")),1),(0,o.Wm)(ue,{class:"h-link",type:"icon",onClick:s[7]||(s[7]=s=>e.onSignupClicked())},{default:(0,o.w5)((()=>[(0,o.Uk)((0,t.zw)(e.$t("NN0183")),1)])),_:1})]),(0,o._)("div",V,[(0,o._)("button",{onClick:s[8]||(s[8]=(...s)=>e.onCloseClicked&&e.onCloseClicked(...s))},[(0,o.Wm)(me,{class:"pointer",iconName:"page-close",iconWidth:"15px",iconColor:"gray-3"})])])])):(0,o.kq)("",!0),1===e.currentPageIndex?((0,o.wg)(),(0,o.iD)("div",E,[(0,o._)("div",W,[(0,o._)("span",z,(0,t.zw)(e.$t("NN0181"))+"?",1)]),(0,o._)("div",null,[(0,o._)("span",{innerHTML:e.$t("NN0282")},null,8,I)]),(0,o._)("div",null,[(0,o.Wm)(pe,{class:(0,t.C_)(["mt-5",{"input-invalid":!e.mailValid||e.emailResponseError}])},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("input",{class:"body-2 text-gray-2","onUpdate:modelValue":s[9]||(s[9]=s=>e.email=s),type:"email",name:"email",placeholder:e.$t("NN0163",{term:e.$tc("NN0173",2)})},null,8,M),[[n.nr,e.email]])])),_:1},8,["class"]),!e.mailValid||e.emailResponseError?((0,o.wg)(),(0,o.iD)("div",R,[(0,o._)("span",null,(0,t.zw)(e.mailErrorMessage),1)])):(0,o.kq)("",!0)]),(0,o._)("div",A,[(0,o._)("span",{class:"forgot-hint",innerHTML:e.$t("NN0395")},null,8,q)]),(0,o._)("div",{class:(0,t.C_)(["flex",e.hideBackButton?"pt-20":""]),style:{"justify-content":"center"}},[(0,o.Wm)(ue,{class:"btn-shadow",type:"primary-mid",style:{width:"50%"},onClick:s[10]||(s[10]=s=>e.onSendEmailClicked())},{default:(0,o.w5)((()=>[(0,o.Uk)((0,t.zw)(e.$tc("NN0164",2)),1)])),_:1})],2),e.hideBackButton?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",T,[(0,o.Wm)(ue,{class:"bg-gray-3 text-white btn-shadow",type:"icon-mid",style:{width:"50%"},onClick:s[11]||(s[11]=s=>e.onBackClicked())},{default:(0,o.w5)((()=>[(0,o.Uk)((0,t.zw)(e.$t("NN0283")),1)])),_:1})])),(0,o._)("div",U,[(0,o._)("button",{onClick:s[12]||(s[12]=(...s)=>e.onCloseClicked&&e.onCloseClicked(...s))},[(0,o.Wm)(me,{class:"pointer",iconName:"page-close",iconWidth:"15px",iconColor:"gray-3"})])])])):(0,o.kq)("",!0),2===e.currentPageIndex?((0,o.wg)(),(0,o.iD)("div",D,[(0,o._)("div",B,[(0,o._)("span",S,(0,t.zw)(e.$t("NN0284")),1)]),(0,o._)("div",null,[(0,o._)("span",F,(0,t.zw)(e.$t("NN0285",{email:e.email,time:10})),1)]),(0,o._)("div",null,[(0,o.Wm)(pe,{class:(0,t.C_)({"input-invalid":!e.vcodeValid})},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("input",{class:"body-2 text-gray-2","onUpdate:modelValue":s[13]||(s[13]=s=>e.vcode=s),type:"text",name:"vcode",placeholder:e.$t("NN0163",{term:e.$t("NN0286")})},null,8,G),[[n.nr,e.vcode]])])),_:1},8,["class"]),e.vcodeValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",H,[(0,o._)("span",null,(0,t.zw)(e.vcodeErrorMessage),1)]))]),(0,o._)("div",j,[(0,o.Wm)(we,{size:"mid-full",onClick:s[14]||(s[14]=s=>e.onEnterCodeDoneClicked())},{default:(0,o.w5)((()=>[(0,o.Uk)((0,t.zw)(e.$tc("NN0133",2)),1)])),_:1})]),e.resendAvailable?((0,o.wg)(),(0,o.iD)("div",Y,[(0,o._)("span",null,(0,t.zw)(e.$t("NN0288")),1),(0,o.Wm)(ue,{class:"text-blue-1 body-1",type:"icon",onClick:s[15]||(s[15]=s=>e.onResendClicked())},{default:(0,o.w5)((()=>[(0,o.Uk)((0,t.zw)(e.$t("NN0290")),1)])),_:1})])):((0,o.wg)(),(0,o.iD)("div",O,[(0,o._)("span",null,(0,t.zw)(e.leftTimeText),1)])),(0,o._)("div",J,[(0,o._)("button",{onClick:s[16]||(s[16]=(...s)=>e.onCloseClicked&&e.onCloseClicked(...s))},[(0,o.Wm)(me,{class:"pointer",iconName:"page-close",iconWidth:"15px",iconColor:"gray-3"})])])])):(0,o.kq)("",!0),3===e.currentPageIndex?((0,o.wg)(),(0,o.iD)("div",K,[(0,o._)("div",Q,[(0,o._)("span",X,(0,t.zw)(e.$t("NN0291")),1)]),(0,o._)("div",null,[(0,o._)("div",null,[(0,o._)("span",ee,(0,t.zw)(e.$t("NN0292")),1)]),(0,o.Wm)(pe,{class:(0,t.C_)(["mt-5",{"input-invalid":!e.resetPasswordValid}])},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("input",{class:"body-2 text-gray-2","onUpdate:modelValue":s[17]||(s[17]=s=>e.password=s),placeholder:e.$t("NN0292"),type:e.togglePeerPasswordInput},null,8,se),[[n.YZ,e.password]]),(0,o._)("button",{onClick:s[18]||(s[18]=s=>e.isPeerPassword=!e.isPeerPassword)},[(0,o.Wm)(me,{class:"pointer",iconName:e.togglePeerPasswordIcon,iconWidth:"20px",iconColor:"gray-2"},null,8,["iconName"])])])),_:1},8,["class"]),(0,o._)("div",ie,[(0,o._)("div",null,[(0,o.Wm)(me,{class:"pointer",iconName:(e.passwordLengthValid?"":"un")+"check",iconWidth:"25px",iconColor:""+(e.passwordLengthValid?"green-1":"red")},null,8,["iconName","iconColor"]),(0,o._)("span",{class:(0,t.C_)(["ml-5",{"text-green-1":e.passwordLengthValid}])},(0,t.zw)(e.$t("NN0293",{len:8})),3)]),(0,o._)("div",null,[(0,o.Wm)(me,{class:"pointer",iconName:(e.passwordContainEng?"":"un")+"check",iconWidth:"25px",iconColor:""+(e.passwordContainEng?"green-1":"red")},null,8,["iconName","iconColor"]),(0,o._)("span",{class:(0,t.C_)(["ml-5",{"text-green-1":e.passwordContainEng}])},(0,t.zw)(e.$t("NN0294")),3)]),(0,o._)("div",null,[(0,o.Wm)(me,{class:"pointer",iconName:(e.passwordContainNum?"":"un")+"check",iconWidth:"25px",iconColor:""+(e.passwordContainNum?"green-1":"red")},null,8,["iconName","iconColor"]),(0,o._)("span",{class:(0,t.C_)(["ml-5",{"text-green-1":e.passwordContainNum}])},(0,t.zw)(e.$t("NN0295")),3)])]),(0,o._)("div",oe,[(0,o._)("span",te,(0,t.zw)(e.$t("NN0296")),1)]),(0,o.Wm)(pe,{class:(0,t.C_)(["mt-5",{"input-invalid":!e.confirmPasswordValid}])},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("input",{class:"body-2 text-gray-2","onUpdate:modelValue":s[19]||(s[19]=s=>e.confirmPassword=s),placeholder:e.$t("NN0296"),type:e.togglePeerPasswordInput},null,8,ne),[[n.YZ,e.confirmPassword]]),(0,o._)("button",{onClick:s[20]||(s[20]=s=>e.isPeerPassword=!e.isPeerPassword)},[(0,o.Wm)(me,{class:"pointer",iconName:e.togglePeerPasswordIcon,iconWidth:"20px",iconColor:"gray-2"},null,8,["iconName"])])])),_:1},8,["class"]),e.confirmPasswordValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",le,[(0,o._)("span",null,(0,t.zw)(e.confirmErrorMessage),1)])),(0,o._)("div",ae,[(0,o.Wm)(ue,{class:"btn-shadow",type:"primary-mid",style:{width:"50%"},onClick:s[21]||(s[21]=s=>e.onResetDoneClicked())},{default:(0,o.w5)((()=>[(0,o.Uk)((0,t.zw)(e.$t("NN0287")),1)])),_:1})]),(0,o._)("div",re,[(0,o._)("button",{onClick:s[22]||(s[22]=(...s)=>e.onCloseClicked&&e.onCloseClicked(...s))},[(0,o.Wm)(me,{class:"pointer",iconName:"page-close",iconWidth:"15px",iconColor:"gray-3"})])])])])):(0,o.kq)("",!0)]),e.isLoading?((0,o.wg)(),(0,o.j4)(Ne,{key:0})):(0,o.kq)("",!0)])}var ce=i(72869),ge=i(89497),he=i(27502),ue=i(99504),pe=i(37658),me=i(53074),we=i(3665),Ne=i(47147),ke=i(50559),Ce=(e,s,i)=>new Promise(((o,t)=>{var n=e=>{try{a(i.next(e))}catch(s){t(s)}},l=e=>{try{a(i.throw(e))}catch(s){t(s)}},a=e=>e.done?o(e.value):Promise.resolve(e.value).then(n,l);a((i=i.apply(e,s)).next())})),_e=(0,o.aZ)({emits:[],name:"Login",props:{redirect:{type:String,default:void 0}},data(){return{token:"",email:"",password:"",vcode:"",currentPageIndex:0,isLoginClicked:!1,passwordErrorMessage:this.$t("NN0163",{term:this.$tc("NN0180",2)}),emailResponseError:!1,mailErrorMessage:this.$t("NN0297"),vcodeErrorMessage:this.$t("NN0298"),leftTime:60,leftTimeText:"",resendAvailable:!0,isPeerPassword:!1,isVcodeClicked:!1,confirmPassword:"",confirmErrorMessage:"",isResetClicked:!1,isRollbackByGoogleSignIn:window.location.href.indexOf("googleapi")>-1,hideBackButton:!1,isLoading:!1}},created(){const e=new URLSearchParams(window.location.search);if(e.has("type")&&"forgot"===e.get("type")&&(this.currentPageIndex=1,this.hideBackButton=!0),this.$route.query.state){const e=this.$route.query.state,s=JSON.parse(e).platform,i=JSON.parse(e).redirect;if(this.isRollbackByGoogleSignIn&&!ge.Z.getters["user/isLogin"]&&"google_vivipic"===s){this.isLoading=!0;const e=this.$route.query.code,s=window.location.href.split("?")[0];this.googleLogin(e,s,i)}if(!ge.Z.getters["user/isLogin"]&&"fb_vivipic"===s)if(this.isLoading=!0,this.$route.query.error)this.isLoading=!1,me.Z.setLogAndConsoleLog(`fb login error, reason: ${this.$route.query.error_reason}`),this.$router.push({query:{}});else{const e=this.$route.query.code,s=window.location.href;this.fbLogin(e,s,i)}}},computed:{inReviewMode(){return Ne.Z.inReviewMode},mailValid(){return!this.isLoginClicked||this.email.length>0&&/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.email)},passwordValid(){return!this.isLoginClicked||this.password.length>0},togglePeerPasswordIcon(){return"eye"+(this.isPeerPassword?"-slash":"")},togglePeerPasswordInput(){return""+(this.isPeerPassword?"text":"password")},vcodeValid(){return!this.isVcodeClicked||this.vcode.length>0},passwordLengthValid(){return this.password.length>=8},passwordContainEng(){return!!this.password.match(/.*[a-zA-Z]+.*/)},passwordContainNum(){return!!this.password.match(/.*[0-9]+.*/)},resetPasswordValid(){return!this.isResetClicked||!!(this.passwordLengthValid&&this.passwordContainEng&&this.passwordContainNum)},confirmPasswordValid(){return!this.isResetClicked||this.password===this.confirmPassword&&0!==this.password.length},currLocale(){return pe.Z.currLocale()}},methods:{fbLogin(e,s,i){return Ce(this,null,(function*(){try{const{data:o}=yield ce.Z.fbLogin(e,s,this.currLocale);this.handleLoginResult(o,"Facebook","fb",i)}catch(o){me.Z.setLogForError(o)}}))},googleLogin(e,s,i){return Ce(this,null,(function*(){try{const{data:o}=yield ce.Z.googleLogin(e,s,this.currLocale);this.handleLoginResult(o,"Google","google",i)}catch(o){me.Z.setLogForError(o)}}))},handleLoginResult(e,s,i,o){0===e.flag?(e.data.new_user&&(me.Z.setLogAndConsoleLog(`Registration complete with ${i} login`),Ne.Z.inBrowserMode?he.Z.fbq("track","CompleteRegistration"):Ne.Z.sendAdEvent("register"),ue.Z.signUp(s)),ge.Z.dispatch("user/loginSetup",{data:e}),this.$router.push(this.redirect||o||"/")):(me.Z.setLogAndConsoleLog(`${i} login failed`),(0,ke.h4)({group:"error",text:e.msg})),this.isLoading=!1},onSignupClicked(){this.redirect?this.$router.push({name:"SignUp",query:{redirect:this.redirect}}):this.$router.push({name:"SignUp"})},onLogInClicked(){return Ce(this,null,(function*(){if(me.Z.setLogAndConsoleLog("Click Email login"),this.isLoginClicked=!0,this.isLoading=!0,0===this.password.length)return this.passwordErrorMessage=this.$t("NN0163",{term:this.$tc("NN0180",2)}),void(this.isLoading=!1);if(!this.mailValid||!this.passwordValid)return void(this.isLoading=!1);const e=yield ge.Z.dispatch("user/login",{token:"",account:this.email,password:this.password});0===e.flag?this.$router.push(this.redirect||"/"):(this.password="",this.passwordErrorMessage=e.msg||this.$t("NN0242"),me.Z.setLogAndConsoleLog(`Email login failed (msg: ${this.passwordErrorMessage})`)),this.isLoading=!1}))},onForgotClicked(){me.Z.setLogAndConsoleLog("Click forgot password"),this.currentPageIndex=1,this.password="",this.isPeerPassword=!1,this.isLoginClicked=!1},onBackClicked(){this.currentPageIndex=0,this.isLoginClicked=!1},onCloseClicked(){me.Z.setLogAndConsoleLog("Click close icon"),this.$router.push({name:"Home"})},onSendEmailClicked(){return Ce(this,null,(function*(){if(me.Z.setLogAndConsoleLog("Send Vcode"),this.isLoginClicked=!0,this.emailResponseError=!1,this.isLoading=!0,0===this.email.length)return this.isLoading=!1,void(this.mailErrorMessage=this.$t("NN0163",{term:this.$tc("NN0173",2)}));if(!this.mailValid)return this.isLoading=!1,void(this.mailErrorMessage=this.$t("NN0297"));const e={account:this.email,register:"0",vcode_only:"1",locale:this.currLocale,type:2},s=yield ge.Z.dispatch("user/sendVcode",e);0===s.flag?(this.isVcodeClicked=!1,this.currentPageIndex=2):(me.Z.setLogAndConsoleLog(`Send Vcode failed (msg: ${s.msg})`),this.emailResponseError=!0,this.mailErrorMessage=s.msg||this.$t("NN0242")),this.isLoading=!1}))},onResendClicked(){return Ce(this,null,(function*(){if(me.Z.setLogAndConsoleLog("Resend Vcode"),this.isLoading=!0,0===this.email.length)return this.currentPageIndex=0,void(this.isLoading=!1);this.resendAvailable=!1,this.leftTimeText=this.$t("NN0289",{time:this.leftTime});const e={account:this.email,register:"0",vcode_only:"1",locale:this.currLocale,type:2},s=yield ge.Z.dispatch("user/sendVcode",e);if(0===s.flag){this.isLoading=!1;const e=window.setInterval((()=>{this.leftTime--,this.leftTimeText=this.$t("NN0289",{time:this.leftTime}),0===this.leftTime&&(window.clearInterval(e),this.resendAvailable=!0,this.leftTimeText="",this.leftTime=60)}),1e3)}else this.currentPageIndex=0,this.isLoading=!1}))},onEnterCodeDoneClicked(){return Ce(this,null,(function*(){if(this.isVcodeClicked=!0,this.isLoading=!0,0===this.email.length)return this.currentPageIndex=0,void(this.isLoading=!1);if(!this.vcodeValid)return this.vcodeErrorMessage=this.$t("NN0163",{term:this.$t("NN0286")}),void(this.isLoading=!1);const e={account:this.email,vcode:this.vcode,locale:this.currLocale,type:2},s=yield ge.Z.dispatch("user/verifyVcode",e);this.vcode="",0===s.flag?(me.Z.setLogAndConsoleLog("Verify Vcode success"),this.currentPageIndex=3,this.isResetClicked=!1,this.token=s.token):(me.Z.setLogAndConsoleLog(`Verify Vcode failed (msg: ${s.msg})`),this.vcodeErrorMessage=s.msg||this.$t("NN0242")),this.isLoading=!1}))},onResetDoneClicked(){return Ce(this,null,(function*(){if(this.isResetClicked=!0,this.isLoading=!0,0===this.email.length)return this.currentPageIndex=0,void(this.isLoading=!1);if(0===this.password.length)return this.confirmErrorMessage=this.$t("NN0163",{term:this.$t("NN0292")}),void(this.isLoading=!1);if(!this.resetPasswordValid||!this.confirmPasswordValid)return this.confirmErrorMessage=this.$t("NN0298"),void(this.isLoading=!1);const e=yield ge.Z.dispatch("user/updateUser",{token:this.token,upass:this.password});this.password="",this.confirmPassword="",0===e.flag?(me.Z.setLogAndConsoleLog("Reset password success"),this.email="",this.currentPageIndex=0,this.isLoginClicked=!1):(me.Z.setLogAndConsoleLog(`Reset password failed (msg: ${e.msg})`),this.confirmErrorMessage=e.msg||this.$t("NN0242")),this.isLoading=!1}))},onFacebookClicked(){return Ce(this,null,(function*(){if(me.Z.setLogAndConsoleLog("Click Facebook login"),Ne.Z.inBrowserMode)we.Z.onFacebookClicked(this.redirect);else{this.isLoading=!0;const e=yield Ne.Z.login("Facebook",this.$i18n.locale);this.isLoading=!1,this.handleLoginResult(e,"Facebook","fb")}}))},onGoogleClicked(){return Ce(this,null,(function*(){if(me.Z.setLogAndConsoleLog("Click Google login"),Ne.Z.inBrowserMode)we.Z.onGoogleClicked(this.redirect);else{this.isLoading=!0;const e=yield Ne.Z.login("Google",this.$i18n.locale);this.isLoading=!1,this.handleLoginResult(e,"Google","google")}}))}}}),fe=i(53372);const ye=(0,fe.Z)(_e,[["render",de],["__scopeId","data-v-36308a11"],["__file","Login.vue"]]);var ve=ye},71730:function(e,s,i){e.exports=i.p+"img/facebook.99863c56.png"},3362:function(e,s,i){e.exports=i.p+"img/google.4f09c2b1.png"},85733:function(e,s,i){e.exports=i.p+"53b8802f7def58ef.svg"}}]);
//# sourceMappingURL=108.6b411f3d.js.map